TIME < TIME.TXT > HORAINI.TXT
MD ..\BIN
MD ..\OBJ
CD ..\SOURCE
REM COMPILANDO EL EJECUTABLE
SET UPATH=..\EXTRAS\RX\UNITS;..\EXTRAS\ARCTL\SOURCE;..\EXTRAS\ARCTLEX\SOURCE;..\OBJ
SET UPATH=%UPATH%;..\EXTRAS\TB97\SOURCE;..\EXTRAS\NAVBTN;..\EXTRAS\MENUBAR;..\EXTRAS\UNITS;..\EXTRAS\AEXCEL\FREE.SRC
DCC32 -B -U%UPATH% HORCOLEG.DPR
SET UPATH=
REM COMPACTANDO EL EJECUTABLE SI USTED TIENE ASPACK
if exist "C:\Archivos de programa\ASPack\aspack.exe" START /W "C:\Archivos de programa\ASPack\aspack.exe" ..\BIN\HORCOLEG.EXE

REM CREANDO LA DISTRIBUCION EN FUENTE
CD ..
del sghcsrc.tar.bz2
CD ..
CD ..
SGHC\1.1\BAT\TAR.EXE -cv -TSGHC\1.1\filelist.txt -fsghcsrc.tar
SGHC\1.1\BAT\BZIP2.EXE -9 --repetitive-best sghcsrc.tar
CD SGHC\1.1
MOVE ..\..\sghcsrc.tar.bz2 .
CD BAT

DELTREE /Y ..\DAT
MD ..\DAT

REM CREANDO LA BASE DE DATOS DE PARADOX A PARTIR DE LA BASE DE DATOS DE ACCESS
DBUTILS.EXE /ACC2PDX ..\SOURCE\SGHC.MDB ..\DAT

REM CREANDO LA BASE DE DATOS EMPACADA
DBUTILS.EXE /DBPACK ..\DAT ..\BIN\HORCOLEG.DB0

DELTREE /Y ..\DAT

REM VERIFIQUE QUE EL ARCHIVO DE AYUDA ESTE COMPILADO

REM CREANDO LOS INSTALADORES

if not exist "C:\Archivos de programa\Inno Setup 1.2\COMPIL32.EXE" GOTO 1
CD ..\INSTALL
DELTREE /Y COMPLETO
DELTREE /Y PARCIAL
MD COMPLETO
MD PARCIAL
START /W "C:\Archivos de programa\Inno Setup 1.2\COMPIL32.EXE" /cc HORPARCL.ISS
START /W "C:\Archivos de programa\Inno Setup 1.2\COMPIL32.EXE" /cc HORCOMPL.ISS
RENAME COMPLETO\SETUP.EXE INSTALAR.EXE
RENAME PARCIAL\SETUP.EXE INSTALAR.EXE
COPY ..\DOC\LEAME.TXT ..\INSTALL\COMPLETO
COPY ..\DOC\LEAME.TXT ..\INSTALL\PARCIAL
GOTO 2
:1
ECHO NO SE ELABORARON LOS INSTALADORES DEBIDO A QUE NO SE ENCONTRÓ EL INNO SETUP
:2
CD ..\BAT
TIME < TIME.TXT > HORAFIN.TXT
